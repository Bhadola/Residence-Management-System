<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Bootstrap CSS -->
<link rel="stylesheet" th:href="@{/css/style.css}" />
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
<script th:src="@{/js/script.js}"></script>

<title>Hello, world!</title>
</head>
<body class="bodybg registerbg">

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<a class="navbar-brand mx-auto" href="/">Residence Management
			System</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
	</nav>

	<!-- navbar -->
	<div class="container">
		<div class="row">
			<div class="col-sm my-auto">
				<img th:src="@{'/images/'+${tenant.imgURL}}"
					class="img-fluid rounded border border-dark">

			</div>
			<div
				style="width: 80%; height: 65vh; margin: 10vh auto; text-align: center; color: white;">
				<h2>
					Renting property for <span th:text="${tenant.first}"></span>
				</h2>
				<h6>Please Select a Property from the list</h6>
				<table class="table table-striped" border="1"
					style="background-color: white;">
					<thead class="bg-primary ">
						<tr>
							<th scope="col">Id</th>
							<th scope="col">PropertyImg</th>
							<th scope="col">Type</th>
							<th scope="col">Rent</th>
							<th scope="col">Location</th>
							<th scope="col">Owner Contact</th>
							<th scope="col">lease duration(Months)</th>
							<th scope="col">Actions</th>

						</tr>
					</thead>
					<tbody>
						<tr th:each="e : ${properties}" class="text-primary">
							<div th:if="${e.owned!=1}">
								<td th:text="${e.id}"></td>
								<td><img class="propdashavatar"
									th:src="@{'/images/'+${e.imgURL}}"></td>
								<td th:text="${e.propertyType}"></td>
								<td th:text="${e.rentAmt}"></td>
								<td th:text="${e.location}"></td>
								<td th:text="${e.ownerinprop.phone}"></td>
								<td th:text="${e.leaseDuration}"></td>
	
	
								<td>
									<form th:action="@{/tenant/finalizeprop}" method="post">
										<input type="hidden" name="tenantId" th:value="${tenant.id}">
										<input type="hidden" name="propId" th:value="${e.id}">		
										<button type="submit" class="btn btn-success">Buy</button>
									</form>
								</td>
							</div>
						</tr>
					</tbody>
				</table>

			</div>


			<!--card-->
		</div>
	</div>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
		integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
		crossorigin="anonymous"></script>
	<div name="tenantid" th:value="${tenant.id}"></div>

</body>
</html>